<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper or Scissors</title>
        <meta charset="utf-8">
        <style src= ""></style>
    </head>
    <style>
        body{
            text-align: center;
            height: 300 px;
            width: 300 px;
        }
        .border {
            display: flex;
            flex-direction: column;
            padding: 2px;
            
        }
        .buttons{
           
            
        }
    </style>
    <body>

        <div class = 'buttons'>
            <h1>Choose your play</h1>
            <button id = 'scissors'>Scissors</button>
            <button id = 'rock'>Rock</button>
            <button id = 'paper'>paper</button>
        </div>

        <div class = 'border'>
            <h2>Score</h2>
            <p> You x Machine </p>
            <p id = 'score'> 0 x 0 </p>
        </div>

    </body>


    <script>

        // Creates a random number between 1 and 3
        function computerPlay(){
            let number = Math.floor(Math.random()*3)+1; 
            let choice; 
            if (number === 1){
                choice = "paper";
            }
            else if (number === 2 ){
                choice = "rock";
            }
            else{
                choice = "scissors";
            }
            return choice
        }

        //play with input from the user and the machine 
        //it returns 2 if the user wins, 1 in the case of machine victory and 0 for a tier
    
        function playRound(playerSelection, computerSelection){
            
            playerSelection = playerSelection.toLowerCase();

            let message;
            
            if (playerSelection === "rock"){

                if (computerSelection === "scissors"){
                    message = 2;
                }
                else if (computerSelection === 'rock'){
                    message = 0;
                }
                else {
                    message = 1;
                }
            }

            if (playerSelection === 'paper'){
                if (computerSelection === 'scissors'){
                    message = 1;
                }
                else if (computerSelection === 'paper'){
                    message = 0;
                }
                else {
                    message = 2;
                }
            }

            if (playerSelection === "scissors"){
                if (computerSelection === "scissors"){
                    message = 0;
                }
                else if (computerSelection === 'paper'){
                    message = 1;
                }
                else {
                    message = 2;
                }
            }
            
            return message;
        }
        
        let button = document.querySelector('.buttons');
        let score = document.querySelector('#score');
        let countRounds = 0;
        let userWins = 0;
        let machineWins = 0;

        button.addEventListener('click', function getUserChoice(event) {
           
            if (countRounds < 5){
                let userChoice = event.target.id;
                let response = playRound(userChoice,computerPlay());
                if (response ===2){
                    userWins++;
                    score.textContent = `${userWins} x ${machineWins}`;
                }
                else if (response === 1) {
                    machineWins++;
                    score.textContent = `${userWins} x ${machineWins}`;
                    
                }
                else if (response === 0) {
                    score.innerHTML=`${userWins} x ${machineWins} <br> Draw!`
                }
                countRounds++;
            }

            if (countRounds ==5) {
                score.innerHTML='<br>'
                score.innerHTML=`${userWins} x ${machineWins} <br> End of Game!
                                                                Click again to play!`;
                countRounds=0;
                userWins=0;
                machineWins=0;
            }
            


        });

        //Game on - to choose the number of rounds 
        /*
        function game(numberRounds){
            let machineWins = 0;
            let userWins = 0;
            let machineAnswer;
            let userChoice;
            let resultPlay;

            for (let i = 0; i < numberRounds; i++){
                machineAnswer = computerPlay();
                userChoice = window.prompt('Enter your play for round');
                resultPlay = playRound(userChoice, machineAnswer);
                if (resultPlay === 2){
                    userWins++;
                    alert('You won!');
                }
                else if (resultPlay === 1){
                    machineWins++;
                    alert('You lost!');
                }
                else{
                    alert('Something went wrong...')
                }
            }
            return [userWins, machineWins];
        }
        
        let playResult = game(5);
        alert(`You won ${playResult[0]} times and the computer ${playResult[1]} times`);
        */
        
    </script>
</html> 